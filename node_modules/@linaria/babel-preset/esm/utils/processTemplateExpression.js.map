{"version":3,"file":"processTemplateExpression.js","names":["getTagProcessor","processed","WeakSet","processTemplateExpression","p","fileContext","options","emit","has","node","tagProcessor","add"],"sources":["../../src/utils/processTemplateExpression.ts"],"sourcesContent":["import type { NodePath } from '@babel/traverse';\nimport type { Identifier } from '@babel/types';\n\nimport type { BaseProcessor, IFileContext } from '@linaria/tags';\nimport type { StrictOptions } from '@linaria/utils';\n\nimport getTagProcessor from './getTagProcessor';\n\nconst processed = new WeakSet<Identifier>();\n\nconst processTemplateExpression = (\n  p: NodePath<Identifier>,\n  fileContext: IFileContext,\n  options: Pick<\n    StrictOptions,\n    'classNameSlug' | 'displayName' | 'evaluate' | 'tagResolver'\n  >,\n  emit: (processor: BaseProcessor) => void\n) => {\n  if (processed.has(p.node)) return;\n\n  const tagProcessor = getTagProcessor(p, fileContext, options);\n\n  processed.add(p.node);\n\n  if (tagProcessor === null) return;\n\n  emit(tagProcessor);\n};\n\nexport default processTemplateExpression;\n"],"mappings":"AAMA,OAAOA,eAAe,MAAM,mBAAmB;AAE/C,MAAMC,SAAS,GAAG,IAAIC,OAAO,EAAc;AAE3C,MAAMC,yBAAyB,GAAG,CAChCC,CAAuB,EACvBC,WAAyB,EACzBC,OAGC,EACDC,IAAwC,KACrC;EACH,IAAIN,SAAS,CAACO,GAAG,CAACJ,CAAC,CAACK,IAAI,CAAC,EAAE;EAE3B,MAAMC,YAAY,GAAGV,eAAe,CAACI,CAAC,EAAEC,WAAW,EAAEC,OAAO,CAAC;EAE7DL,SAAS,CAACU,GAAG,CAACP,CAAC,CAACK,IAAI,CAAC;EAErB,IAAIC,YAAY,KAAK,IAAI,EAAE;EAE3BH,IAAI,CAACG,YAAY,CAAC;AACpB,CAAC;AAED,eAAeP,yBAAyB"}